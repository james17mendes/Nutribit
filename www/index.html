<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Nutribit</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--Material design-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">

</head>
<body>
    <!--Scripts-->
    <script type="text/javascript" src="cordova.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script>
         $(document).ready(function () {

             console.log("Document ready...")

             // Construtor de uma pessoa
             function Person(name, company, email, password, accountType, bits, pagamento) {
                 this.name = name;
                 this.company = company;
                 this.email = email;
                 this.password = password;
                 this.accountType = accountType;
                 this.bits = bits;
                 this.address = "";
                 this.postaCode = "";
                 this.phone = "";
                 this.pagamento = pagamento;
                 console.log("Creating a new person...")
             }

             // Construtor de uma sugestao
             function Sugestao(sugestao, person) {
                 this.sugestao = sugestao;
                 this.person = person;
                 console.log("\nCreating a new sugestion...")
             }

             // Pessoa teste
             var p1 = new Person("Tiago Mendes", "Universidade de Aveiro", "tiagocmendes@ua.pt", "123456789", "cli", 200, "dinheiro");

             var users = new Array; // Array para guardar todos os utilizadores
             users.push(p1); // Adicionar um utilizador teste
             localStorage.setItem('users', JSON.stringify(users)); // Guardar o array no localStorage
             console.log("User test added to localStorage");

             var sugestoes = new Array; // Array para guardar todas as sugestoes
             sugestoes.push(new Sugestao("Primeira sugestao", p1)); // Adicionar uma sugestao teste
             localStorage.setItem('sugestions', JSON.stringify(sugestoes)); // Guardar o array no localStorage
             console.log("Sugestao teste added to localStorage");

             window.location = "home.html";
         });
    </script>
</body>
</html>